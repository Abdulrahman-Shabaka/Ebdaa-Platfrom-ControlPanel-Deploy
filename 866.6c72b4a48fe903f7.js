"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[866],{3866:(H,h,i)=>{i.r(h),i.d(h,{ManageOrganizationsModule:()=>Q});var c=i(6814),S=i(7304),J=i(3415),g=i(6223),f=i(6663),U=i(3660),C=i(2160),p=i(1356),E=i(4055),D=i(9378),T=i(3506),s=i(7860),d=i(649),b=i(7434),w=i(4442),e=i(5879),I=i(4361);function B(l,R){if(1&l){const n=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.Add())}),e.qZA()}}function L(l,R){if(1&l){const n=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.Edit())}),e.qZA()}}let F=(()=>{class l{service;cdr;dialogService;stateData=[];Cols;Data;SpecData;currentLanguage;lang=localStorage.getItem("language");contentFirstBtn;classFirstBtn="success text-white";mode="add";currentSpec={id:""};OrganizationType=w.h;currentUserType;constructor(n,o,t){this.service=n,this.cdr=o,this.dialogService=t,this.lang=localStorage.getItem("language"),this.Cols=[s.v.fromJS({id:1,sorted:!0,filtered:!0,hidden:!0,field:"id",header:"ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f \u0627\u0644\u062a\u0639\u0631\u064a\u0641\u064a":"Id Code ",type:"text"}),s.v.fromJS({id:2,sorted:!0,filtered:!0,hidden:!1,field:"organizationName",header:"ar"==this.lang?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0624\u0633\u0633\u0629":"Organization Name ",type:"text"}),s.v.fromJS({id:3,sorted:!0,filtered:!0,hidden:!1,field:"aboutUsTitle",header:"ar"==this.lang?"\u0639\u0646 \u0627\u0644\u0645\u0624\u0633\u0633\u0629":"About Organization ",type:"text"}),s.v.fromJS({id:4,sorted:!0,filtered:!0,hidden:!1,field:"openTime",header:"ar"==this.lang?"\u0648\u0642\u062a \u0627\u0644\u0628\u062f\u0621":"Start Time ",type:"text"}),s.v.fromJS({id:5,sorted:!0,filtered:!0,hidden:!1,field:"closeTime",header:"ar"==this.lang?"\u0648\u0642\u062a \u0627\u0644\u0627\u063a\u0644\u0627\u0642":"Close Time",type:"text"})]}ngOnChanges(n){this.cdr.detectChanges()}ngOnInit(){this.SearchByType(),this.searchState(),this.currentLanguage=localStorage.getItem("language")??"ar"}SearchByType(){let o,r,n=(new b.l).GetUserId();r=!1,o=this.currentUserType.Id,this.service.getListOfOrganizations(o,void 0,!1,void 0,void 0,n).subscribe({next:m=>{this.Data=m.data.items,this.cdr.detectChanges()},error:()=>{}})}searchState(){this.service.searchState("","",!1,1,1,void 0).subscribe({next:n=>{this.stateData=n.data.items,this.cdr.detectChanges()},error:()=>{}})}Add(){let n=new d.QV;n.userType=1,n.gender=1,n.bloodType=1,n.fullName=this.model.fullName,n.email=this.model.email,n.phoneNumber=this.model.phoneNumber,n.addressDescription=this.model.addressDescription,n.birthDate=this.model.birthDate,n.cityId=this.model.cityId,n.latitude=this.model.latitude,n.longitude=this.model.longitude,n.profileImage=this.model.profileImageUrl,this.service.createNewUser(n).subscribe({next:o=>{this.SearchByType()}})}model=new d.NM;selectedForEdit=new d.NM;selectedCity=new d.v5;EditRow(n){this.model=n,this.currentUserType=this.OrganizationType.filter(t=>t.Id==n.userType)[0],this.mode="edit";let o=d.NM.fromJS(n);this.model=o,this.selectedForEdit=n,null!=n.cityId&&(this.selectedCity=this.stateData.filter(t=>t.id==n.cityId)[0],this.model.cityId=this.selectedCity.id)}Edit(){let o,t,r,a,u,m,M,y,v,Z,N,_,z,O,A,n=(new b.l).GetUserId();o=this.model.id,t=this.model.email,r=this.model.fullName,a=this.model.gender,u=this.model.birthDate,m=this.model.bloodType,M=null==this.model.cityId?"0":this.model.cityId,y=this.model.addressDescription,v=this.model.latitude,Z=this.model.longitude,O=this.currentUserType,_=void 0,z=void 0,A=void 0,N={data:"/* Provide your data here, e.g., a file or base64 data */",fileName:"example.jpg"},this.service.editUser(o,t,r,a,u,m,M,y,v,Z,N,void 0,void 0,n,O,void 0).subscribe({next:G=>{this.SearchByType()}})}DeleteRow(n){let o=new d.rl;o.targetUserId=n.id,this.service.deleteUser(o).subscribe({next:t=>{this.SearchByType()}})}Clear(){this.model=new d.NM,this.mode="add",this.currentUserType={}}static \u0275fac=function(o){return new(o||l)(e.Y36(d.r9),e.Y36(e.sBO),e.Y36(p.xA))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-ManageOrganizations"]],features:[e._Bn([p.xA]),e.TTD],decls:47,vars:35,consts:[["id","kt_timeline_widget_2_card",1,"card","h-xl-100"],[1,"card-header","position-relative","py-0","border-bottom-2"],[1,"card-body"],[1,"row"],[1,"mb-10"],["translate","Organization.Type",1,"form-label"],[1,"dropdown"],["styleClass","fc-primng",3,"options","ngModel","optionLabel","showClear","placeholder","ngModelChange","onChange"],[1,"col-md-8"],[3,"cols","rowsPageNumbers","pagination","scrollable","data","chooseColomns","SecondBtn","contentSecondBtn","FirstBtn","contentFirstBtn","secondButtonEvent","firstButtonEvent"],[1,"col-md-4"],[1,"col-md-12"],["styleClass","fc-primng",3,"options","ngModel","optionLabel","showClear","placeholder","ngModelChange"],["translate","Organization.Name",1,"form-label"],["type","text","placeholder","","autocomplete","",1,"form-control",3,"ngModel","ngModelChange"],["translate","Organization.About",1,"form-label"],["translate","Organization.StartFrom",1,"form-label"],["translate","Organization.EndAt",1,"form-label"],["translate","Users.birthDate",1,"form-label"],["styleClass","fc-primng",3,"ngModel","ngModelChange"],["translate","address.SelectState",1,"form-label"],["styleClass","fc-primng",3,"options","ngModel","optionValue","optionLabel","showClear","placeholder","ngModelChange"],["translate","Users.longitude",1,"form-label"],["translate","Users.latitude",1,"form-label"],[2,"display","contents"],["style","width: 60%;","class","btn btn-success mx-3","translate","SHARED.Create",3,"click",4,"ngIf"],["style","width: 60%;","class","btn btn-success mx-3","translate","SHARED.Edit",3,"click",4,"ngIf"],["translate","SHARED.Cancel",1,"btn","btn-success","mx-3",2,"width","25%",3,"click"],["translate","SHARED.Create",1,"btn","btn-success","mx-3",2,"width","60%",3,"click"],["translate","SHARED.Edit",1,"btn","btn-success","mx-3",2,"width","60%",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"label",5),e.TgZ(6,"div",6)(7,"p-dropdown",7),e.NdJ("ngModelChange",function(a){return t.currentUserType=a})("onChange",function(){return t.SearchByType()}),e.qZA()()()(),e.TgZ(8,"div",3)(9,"div",8)(10,"app-shared-datatable",9),e.NdJ("secondButtonEvent",function(a){return t.EditRow(a)})("firstButtonEvent",function(a){return t.DeleteRow(a)}),e.qZA()(),e.TgZ(11,"div",10)(12,"div",11)(13,"div",4),e._UZ(14,"label",5),e.TgZ(15,"div",6)(16,"p-dropdown",12),e.NdJ("ngModelChange",function(a){return t.currentUserType=a}),e.qZA()()(),e.TgZ(17,"div",4),e._UZ(18,"label",13),e.TgZ(19,"input",14),e.NdJ("ngModelChange",function(a){return t.model.fullName=a}),e.qZA()(),e.TgZ(20,"div",4),e._UZ(21,"label",15),e.TgZ(22,"input",14),e.NdJ("ngModelChange",function(a){return t.model.phoneNumber=a}),e.qZA()(),e.TgZ(23,"div",4),e._UZ(24,"label",16),e.TgZ(25,"input",14),e.NdJ("ngModelChange",function(a){return t.model.phoneNumber=a}),e.qZA()(),e.TgZ(26,"div",4),e._UZ(27,"label",17),e.TgZ(28,"input",14),e.NdJ("ngModelChange",function(a){return t.model.phoneNumber=a}),e.qZA()(),e.TgZ(29,"div",4),e._UZ(30,"label",18),e.TgZ(31,"div",6)(32,"p-calendar",19),e.NdJ("ngModelChange",function(a){return t.model.birthDate=a}),e.qZA()()(),e.TgZ(33,"div",4),e._UZ(34,"label",20),e.TgZ(35,"div",6)(36,"p-dropdown",21),e.NdJ("ngModelChange",function(a){return t.selectedCity=a}),e.qZA()()(),e.TgZ(37,"div",4),e._UZ(38,"label",22),e.TgZ(39,"input",14),e.NdJ("ngModelChange",function(a){return t.model.longitude=a}),e.qZA()(),e.TgZ(40,"div",4),e._UZ(41,"label",23),e.TgZ(42,"input",14),e.NdJ("ngModelChange",function(a){return t.model.latitude=a}),e.qZA()(),e.TgZ(43,"div",24),e.YNc(44,B,1,0,"button",25),e.YNc(45,L,1,0,"button",26),e.TgZ(46,"button",27),e.NdJ("click",function(){return t.Clear()}),e.qZA()()()()()()()()),2&o&&(e.xp6(7),e.Q6J("options",t.OrganizationType)("ngModel",t.currentUserType)("optionLabel","ar"==t.currentLanguage?"NameAr":"NameEn")("showClear",!1)("placeholder","ar"==t.currentLanguage?"\u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"Choose User Type "),e.xp6(3),e.Q6J("cols",t.Cols)("rowsPageNumbers",10)("pagination",!0)("scrollable",!1)("data",t.Data)("chooseColomns",!0)("SecondBtn",!0)("contentSecondBtn","ar"==t.currentLanguage?"\u062a\u0639\u062f\u064a\u0644":"Edit")("FirstBtn",!0)("contentFirstBtn","ar"==t.currentLanguage?"\u062d\u0630\u0641":"Delete"),e.xp6(6),e.Q6J("options",t.OrganizationType)("ngModel",t.currentUserType)("optionLabel","ar"==t.currentLanguage?"NameAr":"NameEn")("showClear",!1)("placeholder","ar"==t.currentLanguage?"\u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"Choose User Type "),e.xp6(3),e.Q6J("ngModel",t.model.fullName),e.xp6(3),e.Q6J("ngModel",t.model.phoneNumber),e.xp6(3),e.Q6J("ngModel",t.model.phoneNumber),e.xp6(3),e.Q6J("ngModel",t.model.phoneNumber),e.xp6(4),e.Q6J("ngModel",t.model.birthDate),e.xp6(4),e.Q6J("options",t.stateData)("ngModel",t.selectedCity)("optionValue","id")("optionLabel","ar"==t.currentLanguage?"state_Name_Ar":"state_Name_En")("showClear",!1)("placeholder","ar"==t.currentLanguage?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u062f\u064a\u0646\u0629":"Choose State "),e.xp6(3),e.Q6J("ngModel",t.model.longitude),e.xp6(3),e.Q6J("ngModel",t.model.latitude),e.xp6(2),e.Q6J("ngIf","add"==t.mode),e.xp6(1),e.Q6J("ngIf","edit"==t.mode))},dependencies:[c.O5,I.G,g.Fj,g.JJ,g.On,C.Lt,T.f,f.Pi]})}return l})(),Q=(()=>{class l{static \u0275fac=function(o){return new(o||l)};static \u0275mod=e.oAB({type:l});static \u0275inj=e.cJS({imports:[c.ez,S.Bz.forChild([{path:"Organizations",component:F,data:{animation:"Organizations"}}]),J.m,g.u5,C.kW,D.EV,E.q4,T._8,f.aw,U.q,p.DL]})}return l})()}}]);