"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[861],{5861:(A,m,s)=>{s.r(m),s.d(m,{MediaModule:()=>w});var l=s(6814),u=s(5118),C=s(649),e=s(5879),c=s(8039),g=s(6663);let h=(()=>{class o{lang=localStorage.getItem("language");imageUrl="";userName="";ngOnInit(){this.lang=localStorage.getItem("language");let t=localStorage.getItem("user");const n=JSON.parse(t);this.imageUrl=n.profileImageUrl,this.userName=n.fullName}defaultImage="https://mutabbib-test.start-it-ly.com/assets/logo/png%202.png";onImageError(t){t.target.src=this.defaultImage}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-post-apost"]],decls:32,vars:4,consts:[[1,"main-div"],[1,"pb-20"],[1,"col-sm-12",2,"display","flex","align-items","center"],["shape","circle",3,"image","size","onImageError"],[1,"row"],[1,"col-12"],[1,"form-control",3,"placeholder"],[2,"display","flex","margin","5px"],[1,"upload-1"],[1,"row","d-block","cursor-pointer"],[1,"svg-icon","svg-icon-muted","svg-icon-2hx"],["xmlns","http://www.w3.org/2000/svg","width","800px","height","800px","viewBox","0 0 24 24","fill","none"],["d","M20.97 1H18.03C17.16 1 16.52 1.36 16.23 2C16.07 2.29 16 2.63 16 3.03V5.97C16 7.24 16.76 8 18.03 8H20.97C21.37 8 21.71 7.93 22 7.77C22.64 7.48 23 6.84 23 5.97V3.03C23 1.76 22.24 1 20.97 1ZM21.91 4.93C21.81 5.03 21.66 5.1 21.5 5.11H20.09V5.62L20.1 6.5C20.09 6.67 20.03 6.81 19.91 6.93C19.81 7.03 19.66 7.1 19.5 7.1C19.17 7.1 18.9 6.83 18.9 6.5V5.1L17.5 5.11C17.17 5.11 16.9 4.83 16.9 4.5C16.9 4.17 17.17 3.9 17.5 3.9L18.38 3.91H18.9V2.51C18.9 2.18 19.17 1.9 19.5 1.9C19.83 1.9 20.1 2.18 20.1 2.51L20.09 3.22V3.9H21.5C21.83 3.9 22.1 4.17 22.1 4.5C22.09 4.67 22.02 4.81 21.91 4.93Z","fill","#60b4c0"],["d","M9.00109 10.3811C10.3155 10.3811 11.3811 9.31553 11.3811 8.00109C11.3811 6.68666 10.3155 5.62109 9.00109 5.62109C7.68666 5.62109 6.62109 6.68666 6.62109 8.00109C6.62109 9.31553 7.68666 10.3811 9.00109 10.3811Z","fill","#60b4c0"],["d","M20.97 8H20.5V12.61L20.37 12.5C19.59 11.83 18.33 11.83 17.55 12.5L13.39 16.07C12.61 16.74 11.35 16.74 10.57 16.07L10.23 15.79C9.52 15.17 8.39 15.11 7.59 15.65L3.85 18.16C3.63 17.6 3.5 16.95 3.5 16.19V7.81C3.5 4.99 4.99 3.5 7.81 3.5H16V3.03C16 2.63 16.07 2.29 16.23 2H7.81C4.17 2 2 4.17 2 7.81V16.19C2 17.28 2.19 18.23 2.56 19.03C3.42 20.93 5.26 22 7.81 22H16.19C19.83 22 22 19.83 22 16.19V7.77C21.71 7.93 21.37 8 20.97 8Z","fill","#60b4c0"],["d","M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.18C2 19.83 4.17 22 7.81 22H16.18C19.82 22 21.99 19.83 21.99 16.19V7.81C22 4.17 19.83 2 16.19 2ZM14.66 13.73L13.38 14.47L12.1 15.21C10.45 16.16 9.1 15.38 9.1 13.48V12V10.52C9.1 8.61 10.45 7.84 12.1 8.79L13.38 9.53L14.66 10.27C16.31 11.22 16.31 12.78 14.66 13.73Z","fill","#60b4c0"],["d","M18.0002 6C17.3902 6 16.8302 5.65 16.5502 5.11L15.8302 3.66C15.3702 2.75 14.1702 2 13.1502 2H10.8602C9.83017 2 8.63017 2.75 8.17017 3.66L7.45017 5.11C7.17017 5.65 6.61017 6 6.00017 6C3.83017 6 2.11017 7.83 2.25017 9.99L2.77017 18.25C2.89017 20.31 4.00017 22 6.76017 22H17.2402C20.0002 22 21.1002 20.31 21.2302 18.25L21.7502 9.99C21.8902 7.83 20.1702 6 18.0002 6ZM10.5002 7.25H13.5002C13.9102 7.25 14.2502 7.59 14.2502 8C14.2502 8.41 13.9102 8.75 13.5002 8.75H10.5002C10.0902 8.75 9.75017 8.41 9.75017 8C9.75017 7.59 10.0902 7.25 10.5002 7.25ZM12.0002 18.12C10.1402 18.12 8.62017 16.61 8.62017 14.74C8.62017 12.87 10.1302 11.36 12.0002 11.36C13.8702 11.36 15.3802 12.87 15.3802 14.74C15.3802 16.61 13.8602 18.12 12.0002 18.12Z","fill","#60b4c0"],[2,"position","absolute","bottom","20px","left","20px"],["translate","SHARED.Post",1,"btn","btn-success"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-avatar",3),e.NdJ("onImageError",function(r){return i.onImageError(r)}),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"textarea",6),e.qZA()(),e._UZ(9,"div"),e.TgZ(10,"div")(11,"div",4)(12,"div",7)(13,"div",8)(14,"div",9)(15,"span",10),e.O4$(),e.TgZ(16,"svg",11),e._UZ(17,"path",12)(18,"path",13)(19,"path",14),e.qZA()()()(),e.kcU(),e.TgZ(20,"div",8)(21,"div",9)(22,"span",10),e.O4$(),e.TgZ(23,"svg",11),e._UZ(24,"path",15),e.qZA()()()(),e.kcU(),e.TgZ(25,"div",8)(26,"div",9)(27,"span",10),e.O4$(),e.TgZ(28,"svg",11),e._UZ(29,"path",16),e.qZA()()()()()()()(),e.kcU(),e.TgZ(30,"div",17),e._UZ(31,"button",18),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("image",i.imageUrl)("size","xlarge"),e.xp6(2),e.hij(" ",i.userName," "),e.xp6(3),e.Q6J("placeholder","en"===i.lang?"Write a Post..":"\u0628\u0645 \u062a\u0641\u0643\u0631 \u061f"))},dependencies:[c.q,g.Pi],styles:[".main-div[_ngcontent-%COMP%]{width:100%}"]})}return o})();var p=s(6223);const v=["fileInput"];function _(o,d){1&o&&(e.TgZ(0,"div",43)(1,"button",44),e._uU(2,"Delete Post"),e.qZA()())}function Z(o,d){if(1&o&&e._UZ(0,"img",48),2&o){const t=e.oxw(2).$implicit;e.Q6J("src",t.mediaUrl,e.LSH)}}function x(o,d){if(1&o&&(e.TgZ(0,"video",49),e._UZ(1,"source",50),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",t.mediaUrl,e.LSH)}}function M(o,d){if(1&o&&(e.TgZ(0,"div",45),e.YNc(1,Z,1,1,"img",46),e.YNc(2,x,2,1,"video",47),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",1===t.mediaType),e.xp6(1),e.Q6J("ngIf",2===t.mediaType)}}function b(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31),e._UZ(2,"img",32),e.TgZ(3,"div",33)(4,"div",34),e._uU(5),e.qZA(),e.TgZ(6,"div",35),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"div",36)(10,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showMenue=!i.showMenue)}),e._uU(11," \u2026 "),e.qZA(),e.YNc(12,_,3,0,"div",38),e.qZA()(),e.TgZ(13,"div",39),e._uU(14),e.qZA(),e.YNc(15,M,3,2,"div",40),e.TgZ(16,"div",41)(17,"span",42),e._uU(18),e.qZA()()()}if(2&o){const t=d.$implicit,n=e.oxw();e.xp6(2),e.Q6J("src",t.ownerImageUrl,e.LSH),e.xp6(3),e.Oqu(t.ownerName),e.xp6(2),e.hij("",e.xi3(8,7,t.createdAt,"medium")," - 2 hr"),e.xp6(5),e.Q6J("ngIf",n.showMenue),e.xp6(2),e.hij("",t.description," "),e.xp6(1),e.Q6J("ngIf",t.mediaUrl),e.xp6(3),e.hij("",t.viewsCount," Views")}}function T(o,d){1&o&&(e.TgZ(0,"div",51),e._UZ(1,"h1",52),e.qZA())}let I=(()=>{class o{service;cdr;dialogService;currentLanguage;lang=localStorage.getItem("language");constructor(t,n,i){this.service=t,this.cdr=n,this.dialogService=i}allMediaData;imageUrl="";ngOnInit(){this.lang=localStorage.getItem("language");let t=localStorage.getItem("user");const n=JSON.parse(t);this.imageUrl=n.profileImageUrl,this.OpenPostModal()}defaultImage="https://mutabbib-test.start-it-ly.com/assets/logo/png%202.png";onImageError(t){t.target.src=this.defaultImage}showMenue=!1;desc="";mediaFile;CreateMedia(){let n,i,a,r,f;n=1,i=0,a="",r=1,f=1,this.service.newMedia(this.desc,1,this.mediaFile,1,0,"","",1,1).subscribe({next:P=>{this.GetAllMedia()},error:P=>{alert("Error Happened")}})}GetAllMedia(){let t,n=localStorage.getItem("org");const i=JSON.parse(n);var a=new C.u47(i);t=a.profileId,this.service.getMedia(t,a.organizationType,void 0,!1,0,100,void 0,void 0).subscribe({next:r=>{this.allMediaData=r.data?.items,this.cdr.detectChanges()},error:()=>{}})}base64String="";selectedFile=null;ImageURL="";onFileSelected(t){const n=t.target;if(n.files&&n.files.length>0){this.selectedFile=n.files[0],this.mediaFile={data:this.selectedFile,fileName:"Sample"};const i=new FileReader;i.onload=this.handleReaderLoaded.bind(this),i.readAsDataURL(this.selectedFile)}}handleReaderLoaded(t){this.base64String=t.target?.result,this.ImageURL=String(this.base64String),this.cdr.detectChanges()}fileInput;triggerFileInput(){this.fileInput.nativeElement.click(),this.cdr.detectChanges()}OpenPostModal(){this.dialogService.open(h,{data:event,header:"ar"==this.lang?" \u0646\u0634\u0631  \u0645\u0646\u0634\u0648\u0631 \u062c\u062f\u064a\u062f ":" Create new Post ",width:"50%",maximizable:!0,resizable:!0,draggable:!0,closeOnEscape:!0,dismissableMask:!0,autoZIndex:!0,baseZIndex:9999999999})}static \u0275fac=function(n){return new(n||o)(e.Y36(C.r9S),e.Y36(e.sBO),e.Y36(u.xA))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-media"]],viewQuery:function(n,i){if(1&n&&e.Gf(v,5),2&n){let a;e.iGM(a=e.CRH())&&(i.fileInput=a.first)}},features:[e._Bn([u.xA])],decls:43,vars:6,consts:[["id","kt_timeline_widget_2_card",1,"card","handle-center"],[1,"card-body"],[2,"text-align","center"],[1,"row"],[1,"col-2"],["shape","circle",3,"image","size","onImageError"],[1,"col-10"],[1,"form-control","mt-1",2,"border-radius","50px",3,"placeholder","ngModel","ngModelChange"],[2,"display","revert-layer","padding","2px","display","flex","justify-content","space-around","margin","5px"],[1,"col-3","upload-1"],[1,"row","d-block",3,"click"],[1,"svg-icon","svg-icon-muted","svg-icon-2hx"],["xmlns","http://www.w3.org/2000/svg","width","800px","height","800px","viewBox","0 0 24 24","fill","none"],["d","M20.97 1H18.03C17.16 1 16.52 1.36 16.23 2C16.07 2.29 16 2.63 16 3.03V5.97C16 7.24 16.76 8 18.03 8H20.97C21.37 8 21.71 7.93 22 7.77C22.64 7.48 23 6.84 23 5.97V3.03C23 1.76 22.24 1 20.97 1ZM21.91 4.93C21.81 5.03 21.66 5.1 21.5 5.11H20.09V5.62L20.1 6.5C20.09 6.67 20.03 6.81 19.91 6.93C19.81 7.03 19.66 7.1 19.5 7.1C19.17 7.1 18.9 6.83 18.9 6.5V5.1L17.5 5.11C17.17 5.11 16.9 4.83 16.9 4.5C16.9 4.17 17.17 3.9 17.5 3.9L18.38 3.91H18.9V2.51C18.9 2.18 19.17 1.9 19.5 1.9C19.83 1.9 20.1 2.18 20.1 2.51L20.09 3.22V3.9H21.5C21.83 3.9 22.1 4.17 22.1 4.5C22.09 4.67 22.02 4.81 21.91 4.93Z","fill","#60b4c0"],["d","M9.00109 10.3811C10.3155 10.3811 11.3811 9.31553 11.3811 8.00109C11.3811 6.68666 10.3155 5.62109 9.00109 5.62109C7.68666 5.62109 6.62109 6.68666 6.62109 8.00109C6.62109 9.31553 7.68666 10.3811 9.00109 10.3811Z","fill","#60b4c0"],["d","M20.97 8H20.5V12.61L20.37 12.5C19.59 11.83 18.33 11.83 17.55 12.5L13.39 16.07C12.61 16.74 11.35 16.74 10.57 16.07L10.23 15.79C9.52 15.17 8.39 15.11 7.59 15.65L3.85 18.16C3.63 17.6 3.5 16.95 3.5 16.19V7.81C3.5 4.99 4.99 3.5 7.81 3.5H16V3.03C16 2.63 16.07 2.29 16.23 2H7.81C4.17 2 2 4.17 2 7.81V16.19C2 17.28 2.19 18.23 2.56 19.03C3.42 20.93 5.26 22 7.81 22H16.19C19.83 22 22 19.83 22 16.19V7.77C21.71 7.93 21.37 8 20.97 8Z","fill","#60b4c0"],["translate","media.picture"],["d","M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.18C2 19.83 4.17 22 7.81 22H16.18C19.82 22 21.99 19.83 21.99 16.19V7.81C22 4.17 19.83 2 16.19 2ZM14.66 13.73L13.38 14.47L12.1 15.21C10.45 16.16 9.1 15.38 9.1 13.48V12V10.52C9.1 8.61 10.45 7.84 12.1 8.79L13.38 9.53L14.66 10.27C16.31 11.22 16.31 12.78 14.66 13.73Z","fill","#60b4c0"],["translate","media.video"],["d","M18.0002 6C17.3902 6 16.8302 5.65 16.5502 5.11L15.8302 3.66C15.3702 2.75 14.1702 2 13.1502 2H10.8602C9.83017 2 8.63017 2.75 8.17017 3.66L7.45017 5.11C7.17017 5.65 6.61017 6 6.00017 6C3.83017 6 2.11017 7.83 2.25017 9.99L2.77017 18.25C2.89017 20.31 4.00017 22 6.76017 22H17.2402C20.0002 22 21.1002 20.31 21.2302 18.25L21.7502 9.99C21.8902 7.83 20.1702 6 18.0002 6ZM10.5002 7.25H13.5002C13.9102 7.25 14.2502 7.59 14.2502 8C14.2502 8.41 13.9102 8.75 13.5002 8.75H10.5002C10.0902 8.75 9.75017 8.41 9.75017 8C9.75017 7.59 10.0902 7.25 10.5002 7.25ZM12.0002 18.12C10.1402 18.12 8.62017 16.61 8.62017 14.74C8.62017 12.87 10.1302 11.36 12.0002 11.36C13.8702 11.36 15.3802 12.87 15.3802 14.74C15.3802 16.61 13.8602 18.12 12.0002 18.12Z","fill","#60b4c0"],["translate","media.camera"],["id","kt_timeline_widget_2_card",2,"width","50%","margin","0 auto","margin-top","40px"],[1,"card-title"],["translate","media.posts",2,"padding","14px"],[1,"hr-container"],["class","post-container",4,"ngFor","ngForOf"],["style","text-align: center;padding: 20px;",4,"ngIf"],[1,"fileInpute"],["type","file",1,"form-control",3,"change"],["fileInput",""],[1,"post-container"],[1,"post-header"],["alt","Profile Image",1,"profile-image",3,"src"],[1,"post-details"],[1,"post-owner"],[1,"post-time"],[1,"post-actions"],[1,"dots-button",3,"click"],["class","post-menu",4,"ngIf"],[1,"post-description"],["class","post-media",4,"ngIf"],[1,"post-footer"],[1,"views"],[1,"post-menu"],[1,"menu-item"],[1,"post-media"],["alt","Media Image",3,"src",4,"ngIf"],["controls","",4,"ngIf"],["alt","Media Image",3,"src"],["controls",""],["type","video/mp4",3,"src"],[2,"text-align","center","padding","20px"],["translate","media.noposts",1,"text-gray-600"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p-avatar",5),e.NdJ("onImageError",function(r){return i.onImageError(r)}),e.qZA()(),e.TgZ(6,"div",6)(7,"input",7),e.NdJ("ngModelChange",function(r){return i.desc=r}),e.qZA()()(),e.TgZ(8,"div",3)(9,"div",8)(10,"div",9)(11,"div",10),e.NdJ("click",function(){return i.OpenPostModal()}),e.TgZ(12,"span",11),e.O4$(),e.TgZ(13,"svg",12),e._UZ(14,"path",13)(15,"path",14)(16,"path",15),e.qZA()(),e.kcU(),e._UZ(17,"span",16),e.qZA()(),e.TgZ(18,"div",9)(19,"div",10),e.NdJ("click",function(){return i.OpenPostModal()}),e.TgZ(20,"span",11),e.O4$(),e.TgZ(21,"svg",12),e._UZ(22,"path",17),e.qZA()(),e.kcU(),e._UZ(23,"span",18),e.qZA()(),e.TgZ(24,"div",9)(25,"div",10),e.NdJ("click",function(){return i.OpenPostModal()}),e.TgZ(26,"span",11),e.O4$(),e.TgZ(27,"svg",12),e._UZ(28,"path",19),e.qZA()(),e.kcU(),e._UZ(29,"span",20),e.qZA()()()()()()(),e._UZ(30,"br"),e.TgZ(31,"div",21)(32,"div",22),e._UZ(33,"h1",23),e.TgZ(34,"div",24),e._UZ(35,"hr"),e.qZA(),e.TgZ(36,"div",3),e.YNc(37,b,19,10,"div",25),e.YNc(38,T,2,0,"div",26),e.qZA()()(),e._UZ(39,"br"),e.TgZ(40,"span",27)(41,"input",28,29),e.NdJ("change",function(r){return i.onFileSelected(r)}),e.qZA()()),2&n&&(e.xp6(5),e.Q6J("image",i.imageUrl)("size","xlarge"),e.xp6(2),e.Q6J("placeholder","en"===i.lang?"Write a Post..":"\u0628\u0645 \u062a\u0641\u0643\u0631 \u061f")("ngModel",i.desc),e.xp6(30),e.Q6J("ngForOf",i.allMediaData),e.xp6(1),e.Q6J("ngIf",0===(null==i.allMediaData?null:i.allMediaData.length)))},dependencies:[l.sg,l.O5,c.q,p.Fj,p.JJ,p.On,g.Pi,l.uU],styles:[".handle-center[_ngcontent-%COMP%]{width:50%;margin:40px auto 0;height:130px}.upload-1[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px;margin-right:2px;width:22%}.hr-container[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.hr-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:0;height:1px;background-color:#474747}.fileInpute[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.post-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:8px;padding:15px;width:96%;margin:27px 27px 15px;box-shadow:0 2px 5px #0000001a;box-sizing:border-box}.post-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.profile-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.post-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.post-owner[_ngcontent-%COMP%]{font-weight:700;color:#365899}.post-time[_ngcontent-%COMP%]{font-size:12px;color:#777}.post-description[_ngcontent-%COMP%]{margin-bottom:10px;font-size:14px;line-height:1.5}.post-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post-media[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:80%;border-radius:8px;margin-bottom:10px}.post-footer[_ngcontent-%COMP%]{font-size:12px;color:#777;border-top:1px solid #ddd;padding-top:10px}.views[_ngcontent-%COMP%]{display:inline-block}.hover-button[_ngcontent-%COMP%]{width:50%;margin:10px;position:absolute;top:123px;transition:top .3s ease}.hover-button[_ngcontent-%COMP%]:hover{top:135px}.post-actions[_ngcontent-%COMP%]{position:relative;margin-left:auto}.post-menu[_ngcontent-%COMP%]{position:absolute;top:30px;right:0;background-color:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 5px #0000001a;z-index:100}.menu-item[_ngcontent-%COMP%]{padding:10px 15px;border:none;background-color:transparent;cursor:pointer;width:100%;text-align:left}.menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.post-actions[_ngcontent-%COMP%]{margin-left:auto;position:relative}.dots-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer}"]})}return o})();var O=s(7304),U=s(3660);let w=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[l.ez,O.Bz.forChild([{path:"media",component:I,data:{animation:"media"}}]),c.F,p.u5,g.aw,U.q]})}return o})()}}]);