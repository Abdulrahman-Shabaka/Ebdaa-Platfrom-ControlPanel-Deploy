"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[400],{704:(M,E,t)=>{t.d(E,{e:()=>d});var c=t(5879),m=t(6223),g=t(1532),e=t(5219);function n(D,o){if(1&D){const h=c.EpF();c.TgZ(0,"i",2),c.NdJ("click",function(C){const v=c.CHM(h).clickCallBack;return c.KtG(v(C))}),c.qZA()}}let d=(()=>{class D{timeTypeInput="Time";timeTypeOutput="Time";initDateValue=new Date;initStringValue="00:00:00";initDateValueChange=new c.vpe;initStringValueChange=new c.vpe;timePeriod=new Date;ngOnChanges(h){this.updateTimePeriod()}ngOnInit(){this.updateTimePeriod()}updateTimePeriod(){"Time"===this.timeTypeInput?this.timePeriod=this.getFullDateWithTime(this.initStringValue):"FullDate"===this.timeTypeInput&&(this.timePeriod=this.initDateValue)}getTimeFromDate(h){var v=`${h.getHours().toString().padStart(2,"0")}:${h.getMinutes().toString().padStart(2,"0")}:00`;return"NaN:NaN:NaN"===v?"00:00:00":v}onCalendarChange(){"FullDate"===this.timeTypeOutput?this.initDateValueChange.emit(this.timePeriod):this.initStringValueChange.emit(this.getTimeFromDate(this.timePeriod))}getFullDateWithTime(h){const p=new Date;if(""===h||void 0===h)return p.setHours(0,0,0,0),p;const C=h.split(":").map(Number),v=C[1],A=3===C.length?C[2]:0;return p.setHours(C[0]),p.setMinutes(v),p.setSeconds(A),p.setMilliseconds(0),p}static \u0275fac=function(p){return new(p||D)};static \u0275cmp=c.Xpm({type:D,selectors:[["app-time-picker"]],inputs:{timeTypeInput:"timeTypeInput",timeTypeOutput:"timeTypeOutput",initDateValue:"initDateValue",initStringValue:"initStringValue"},outputs:{initDateValueChange:"initDateValueChange",initStringValueChange:"initStringValueChange"},standalone:!0,features:[c.TTD,c.jDz],decls:2,vars:4,consts:[["styleClass","fc-primng","inputId","templatedisplay",3,"ngModel","iconDisplay","showIcon","timeOnly","ngModelChange"],["pTemplate","inputicon"],[1,"pi","pi-clock","pointer-events-none",3,"click"]],template:function(p,C){1&p&&(c.TgZ(0,"p-calendar",0),c.NdJ("ngModelChange",function(v){return C.timePeriod=v})("ngModelChange",function(){return C.onCalendarChange()}),c.YNc(1,n,1,0,"ng-template",1),c.qZA()),2&p&&c.Q6J("ngModel",C.timePeriod)("iconDisplay","input")("showIcon",!0)("timeOnly",!0)},dependencies:[g._8,g.f,e.jx,m.u5,m.JJ,m.On]})}return D})()},4110:(M,E,t)=>{t.d(E,{U:()=>m});var c=t(5879);let m=(()=>{class g{constructor(){}getTimeWithSecondsIfSecondsNotExist(n){return n.split(":").length<3?n+":00":n}static \u0275fac=function(d){return new(d||g)};static \u0275prov=c.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},1879:(M,E,t)=>{t.d(E,{t:()=>f});var c=t(7434),m=t(649),g=t(3503),e=t(5879),n=t(5118),d=t(8472),D=t(6223),o=t(3965),h=t(5219),p=t(6663),C=t(1532),T=t(8057);function v(l,r){if(1&l){const i=e.EpF();e.TgZ(0,"i",15),e.NdJ("click",function(a){const _=e.CHM(i).clickCallBack;return e.KtG(_(a))}),e.qZA()}}function A(l,r){if(1&l){const i=e.EpF();e.TgZ(0,"i",15),e.NdJ("click",function(a){const _=e.CHM(i).clickCallBack;return e.KtG(_(a))}),e.qZA()}}let f=(()=>{class l extends g.H{service;cdr;config;cts;lang=localStorage.getItem("language");currentLanguage;allDoctors=[];selectedDoctor;note;isImportant=!1;timePeriod={from:"",to:""};constructor(i,s,a,u){super(),this.service=i,this.cdr=s,this.config=a,this.cts=u,this.currentLanguage=localStorage.getItem("language")??"ar"}ngOnInit(){console.log(JSON.stringify(this.config.data)),this.service.getDoctorPerSpeciality(this.config.data.clinic.specialityId,!1,0,0,(new c.l).GetUserId(),void 0).subscribe({next:i=>{this.allDoctors=i.data.items,this.cdr.detectChanges()},error:()=>{}})}AddDoctorToClinic(){let i=new m.gkL;i.doctorId=this.selectedDoctor,i.clinicAvailabilityId=this.config.data.Availability.id,i.endAt=""==this.timePeriod.to?void 0:this.getTimeFromDateString(this.timePeriod.to),i.startAt=""==this.timePeriod.from?void 0:this.getTimeFromDateString(this.timePeriod.from),i.note=this.note,i.isImportant=this.isImportant,this.service.addDoctorClinicAvailability(i).subscribe({next:s=>{this.cts.Show("success","ar"==this.lang?"\u0639\u0645\u0644\u064a\u0629 \u0646\u0627\u062c\u062d\u0629":"Success Proccee","ar"==this.lang?"\u062a\u0645\u062a \u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d":"Proccee Successfully");const a=new KeyboardEvent("keydown",{key:"Escape",keyCode:27});document.dispatchEvent(a)}})}getTimeFromDateString(i){const s=new Date(i);return`${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")}:${s.getSeconds().toString().padStart(2,"0")}`}static \u0275fac=function(s){return new(s||l)(e.Y36(m.r9S),e.Y36(e.sBO),e.Y36(n.S),e.Y36(d.m))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-add-doctor-to-clinic-availability"]],features:[e.qOj],decls:26,vars:17,consts:[[2,"min-height","255px"],[1,"mb-10"],["translate","org.ChooseDoctor",1,"form-label"],[1,"dropdown"],["styleClass","fc-primng","optionLabel","doctorName","optionValue","id",3,"filter","options","ngModel","showClear","placeholder","ngModelChange"],["translate","SHARED.Note",1,"form-label"],[1,"form-control",3,"ngModel","placeholder","ngModelChange"],["translate","SHARED.from",1,"form-label"],["styleClass","fc-primng","inputId","templatedisplay",3,"ngModel","iconDisplay","showIcon","timeOnly","ngModelChange"],["pTemplate","inputicon"],["translate","SHARED.to",1,"form-label"],[1,"form-label"],[3,"ngModel","binary","ngModelChange"],[2,"display","contents"],["translate","SHARED.Create",1,"btn","btn-success",2,"width","100%",3,"click"],[1,"pi","pi-clock","pointer-events-none",3,"click"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"label",2),e.TgZ(3,"div",3)(4,"p-dropdown",4),e.NdJ("ngModelChange",function(_){return a.selectedDoctor=_}),e.qZA()()(),e.TgZ(5,"div",1),e._UZ(6,"label",5),e.TgZ(7,"div")(8,"input",6),e.NdJ("ngModelChange",function(_){return a.note=_}),e.qZA()()(),e.TgZ(9,"div",1),e._UZ(10,"label",7),e.TgZ(11,"div")(12,"p-calendar",8),e.NdJ("ngModelChange",function(_){return a.timePeriod.from=_}),e.YNc(13,v,1,0,"ng-template",9),e.qZA()()(),e.TgZ(14,"div",1),e._UZ(15,"label",10),e.TgZ(16,"div")(17,"p-calendar",8),e.NdJ("ngModelChange",function(_){return a.timePeriod.to=_}),e.YNc(18,A,1,0,"ng-template",9),e.qZA()()(),e.TgZ(19,"div",1)(20,"label",11),e._uU(21," \u0645\u0647\u0645 "),e.qZA(),e.TgZ(22,"div")(23,"p-checkbox",12),e.NdJ("ngModelChange",function(_){return a.isImportant=_}),e.qZA()()(),e.TgZ(24,"div",13)(25,"button",14),e.NdJ("click",function(){return a.AddDoctorToClinic()}),e.qZA()()()),2&s&&(e.xp6(4),e.Q6J("filter",!0)("options",a.allDoctors)("ngModel",a.selectedDoctor)("showClear",!0)("placeholder","ar"===a.currentLanguage?"\u0627\u062e\u062a\u0627\u0631 \u0637\u0628\u064a\u0628":"Choose A Doctor"),e.xp6(4),e.Q6J("ngModel",a.note)("placeholder","ar"===a.currentLanguage?"\u0627\u0643\u062a\u0628 \u0645\u0644\u0648\u062d\u0638\u0647":"Write a Note "),e.xp6(4),e.Q6J("ngModel",a.timePeriod.from)("iconDisplay","input")("showIcon",!0)("timeOnly",!0),e.xp6(5),e.Q6J("ngModel",a.timePeriod.to)("iconDisplay","input")("showIcon",!0)("timeOnly",!0),e.xp6(6),e.Q6J("ngModel",a.isImportant)("binary",!0))},dependencies:[D.Fj,D.JJ,D.On,o.Lt,h.jx,p.Pi,C.f,T.XZ]})}return l})()},5757:(M,E,t)=>{t.d(E,{d:()=>A});var c=t(5118),m=t(7860),g=t(649),e=t(7434),n=t(2029),d=t(1879),D=t(4442),o=t(5879),h=t(4361),p=t(6223),C=t(4055),T=t(6663);const v=function(){return{"min-width":"100%"}};let A=(()=>{class l{service;cdr;ref;config;dialogService;Cols;Data;timingData;timingDataAny=[];lang=localStorage.getItem("language");currentLanguage;days=n.n;selectedDays=[];selectedPeriod=[];contentFirstBtn="";classFirstBtn="light-success";constructor(i,s,a,u,_){this.service=i,this.cdr=s,this.ref=a,this.config=u,this.dialogService=_,this.lang=localStorage.getItem("language"),this.Cols=[m.v.fromJS({id:1,sorted:!0,filtered:!0,hidden:!0,field:"id",forAdmin:!0,header:"ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f \u0627\u0644\u062a\u0639\u0631\u064a\u0641\u064a":"Id Code ",type:"text"}),m.v.fromJS({id:2,sorted:!0,filtered:!0,hidden:!1,field:"day",header:"ar"==this.lang?"\u064a\u0648\u0645":"Day ",type:"day"}),m.v.fromJS({id:3,sorted:!0,filtered:!0,hidden:!1,field:"period",header:"ar"==this.lang?"\u0641\u062a\u0631\u0629":"Period ",type:"period"}),m.v.fromJS({id:4,sorted:!0,filtered:!0,hidden:!1,field:"start",header:"ar"==this.lang?"\u0628\u062f\u0627\u064a\u0629":"Start ",type:"text"}),m.v.fromJS({id:5,sorted:!0,filtered:!0,hidden:!1,field:"end",header:"ar"==this.lang?"\u0646\u0647\u0627\u064a\u0629":"End ",type:"text"})]}ngOnInit(){this.currentLanguage=localStorage.getItem("language")??"ar",this.contentFirstBtn="ar"===this.lang?"<i class='fas fa-user-doctor'></i> \u0627\u0636\u0627\u0641\u0629 \u0637\u0628\u064a\u0628":"<i class='fas fa-user-doctor'></i> Add Doctor",this.loadClinicAvailablities(),this.searchHospitalTiming()}loadClinicAvailablities(){this.service.getClinicAvailabilities(this.config.data.id,(new e.l).GetUserId(),void 0).subscribe({next:i=>{this.Data=i.data},error:()=>{}})}searchHospitalTiming(){let i=(new e.l).GetUserId(),s=(new e.l).GetUserOrgId();this.service.getHospitalTimings(s,i,void 0).subscribe({next:a=>{var u;u=a.data,this.timingDataAny=[];for(let P=0;P<u.length;P++){const y=u[P];var _=new f;_.init(y),_.periodName="ar"==this.lang?D.bi[Number(y.period)-1].nameAr:D.bi[Number(y.period)-1].nameEn,this.timingDataAny.push(_)}this.cdr.detectChanges()},error:()=>{}})}AddClinicAvailability(){let i=new g.C6P;i.clinicId=this.config.data.id,i.days=this.selectedDays.map(s=>s.id),i.hospitalTimingIds=this.selectedPeriod.map(s=>s.id),this.service.addClinicAvailability(i).subscribe({next:s=>{this.loadClinicAvailablities()}})}ShowAddDoctorToClinicAvaliability(i){this.dialogService.open(d.t,{data:{clinic:this.config.data,Availability:i},header:"ar"==this.lang?"\u0627\u0636\u0627\u0641\u0629 \u0637\u0628\u064a\u0628 \u0644\u0648\u0642\u062a \u0627\u0644\u0639\u064a\u0627\u062f\u0629":"Add Doctor To Clinic Availability",width:"60%",maximizable:!0,resizable:!0,draggable:!0,closeOnEscape:!0,dismissableMask:!0,autoZIndex:!0,baseZIndex:9999999999})}static \u0275fac=function(s){return new(s||l)(o.Y36(g.r9S),o.Y36(o.sBO),o.Y36(c.E7),o.Y36(c.S),o.Y36(c.xA))};static \u0275cmp=o.Xpm({type:l,selectors:[["app-clinic-availability-list"]],features:[o._Bn([c.xA])],decls:15,vars:27,consts:[["id","kt_timeline_widget_2_card",1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"mb-10"],["translate","org.AvaliableDays",1,"form-label"],[3,"options","ngModel","filter","optionLabel","showClear","placeholder","ngModelChange"],["translate","org.AvaliablePeriod",1,"form-label"],[3,"options","ngModel","filter","showClear","optionLabel","placeholder","ngModelChange"],[2,"display","contents"],["translate","SHARED.Create",1,"btn","btn-success",2,"width","100%",3,"click"],[3,"cols","rowsPageNumbers","pagination","scrollable","data","chooseColomns","FirstBtn","classFirstBtn","contentFirstBtn","firstButtonEvent"]],template:function(s,a){1&s&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",3)(5,"div",4),o._UZ(6,"label",5),o.TgZ(7,"p-multiSelect",6),o.NdJ("ngModelChange",function(_){return a.selectedDays=_}),o.qZA()(),o.TgZ(8,"div",4),o._UZ(9,"label",7),o.TgZ(10,"p-multiSelect",8),o.NdJ("ngModelChange",function(_){return a.selectedPeriod=_}),o.qZA()(),o.TgZ(11,"div",9)(12,"button",10),o.NdJ("click",function(){return a.AddClinicAvailability()}),o.qZA()()()(),o.TgZ(13,"div",3)(14,"app-shared-datatable",11),o.NdJ("firstButtonEvent",function(_){return a.ShowAddDoctorToClinicAvaliability(_)}),o.qZA()()()()()),2&s&&(o.xp6(7),o.Akn(o.DdM(25,v)),o.Q6J("options",a.days)("ngModel",a.selectedDays)("filter",!0)("optionLabel","ar"===a.currentLanguage?"nameAr":"nameEn")("showClear",!1)("placeholder","ar"===a.currentLanguage?"\u0625\u062e\u062a\u0631 \u064a\u0648\u0645":"Choose a day"),o.xp6(3),o.Akn(o.DdM(26,v)),o.Q6J("options",a.timingDataAny)("ngModel",a.selectedPeriod)("filter",!0)("showClear",!1)("optionLabel","periodName")("placeholder","ar"===a.currentLanguage?"\u0625\u062e\u062a\u0631 \u0641\u062a\u0631\u0629":"Choose a period"),o.xp6(4),o.Q6J("cols",a.Cols)("rowsPageNumbers",10)("pagination",!0)("scrollable",!1)("data",a.Data)("chooseColomns",!0)("FirstBtn",!0)("classFirstBtn",a.classFirstBtn)("contentFirstBtn",a.contentFirstBtn))},dependencies:[h.G,p.JJ,p.On,C.NU,T.Pi]})}return l})();class f extends g.rOH{periodName;constructor(r){super(r),r&&(this.periodName=r.periodName)}init(r){super.init(r),r&&(this.periodName=r.periodName)}toJSON(r){const i=super.toJSON(r);return i.periodName=this.periodName,i}static fromJS(r){r="object"==typeof r?r:{};let i=new f;return i.init(r),i}}},6205:(M,E,t)=>{t.d(E,{T:()=>v});var c=t(7860),m=t(649),g=t(7434),e=t(5118),n=t(5757),d=t(5879),D=t(8472),o=t(4361),h=t(6223),p=t(4055),C=t(6663);const T=function(){return{"min-width":"100%"}};let v=(()=>{class A{cts;service;cdr;dialogService;Cols;Data;SpecData;currentLanguage;lang=localStorage.getItem("language");contentFirstBtn;classFirstBtn="light-success";currentSpec={id:""};currentSpecs=[];constructor(l,r,i,s){this.cts=l,this.service=r,this.cdr=i,this.dialogService=s,this.lang=localStorage.getItem("language"),this.Cols=[c.v.fromJS({id:1,sorted:!0,filtered:!0,forAdmin:!0,hidden:!0,field:"id",header:"ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f \u0627\u0644\u062a\u0639\u0631\u064a\u0641\u064a":"Id Code ",type:"text"}),c.v.fromJS({id:2,sorted:!0,filtered:!0,hidden:!1,field:"specialityName",header:"ar"==this.lang?"\u0627\u0644\u062a\u062e\u0635\u0635":"Speciality ",type:"text"})]}currentClinic={specialityId:"",hospitalId:"",clinicDescription:""};ngOnInit(){this.searchClinic(),this.searchSpeciality(),this.currentLanguage=localStorage.getItem("language")??"ar",this.contentFirstBtn="ar"===this.lang?"<i class='fas fa-clock'></i> \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0645\u062a\u0627\u062d\u0629":"<i class='fas fa-clock'></i> Avaliable Periods"}searchSpeciality(){this.service.searchSpeciality("",!1,0,0,void 0,void 0).subscribe({next:l=>{this.SpecData=l.data.items,this.cdr.detectChanges()},error:()=>{}})}searchClinic(){let l=(new g.l).GetUserId(),r=(new g.l).GetUserOrgId();this.service.getAllClinics(r,l,void 0).subscribe({next:i=>{this.Data=i.data,this.cdr.detectChanges()},error:()=>{}})}AddClinic(){let l=new m.xz7;l.specialityIds=this.currentSpecs.map(r=>r.id),l.hospitalId=(new g.l).GetUserOrgId(),l.clinicDescription="Empty",this.service.newClinic(l).subscribe({next:r=>{this.searchClinic(),this.cts.Show("success","ar"==this.lang?"\u0639\u0645\u0644\u064a\u0629 \u0646\u0627\u062c\u062d\u0629":"Success Proccee","ar"==this.lang?"\u062a\u0645\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d":"Added Successfully")}})}Avaliabilty(l){this.dialogService.open(n.d,{data:l,header:"ar"==this.lang?"  \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0645\u062a\u0627\u062d\u0629 [ "+l.specialityName+" ]":"Clinic Avalilabilities   [ "+l.specialityName+" ]",width:"90%",maximizable:!0,resizable:!0,draggable:!0,closeOnEscape:!0,dismissableMask:!0,autoZIndex:!0,baseZIndex:9999999999})}static \u0275fac=function(r){return new(r||A)(d.Y36(D.m),d.Y36(m.r9S),d.Y36(d.sBO),d.Y36(e.xA))};static \u0275cmp=d.Xpm({type:A,selectors:[["app-clinic-list"]],features:[d._Bn([e.xA])],decls:17,vars:18,consts:[[1,"m-3"],["translate","org.clinics",2,"font-weight","bold","color","white"],[1,"row"],[1,"col-md-8"],["id","kt_timeline_widget_2_card",1,"card"],[1,"card-body"],[3,"cols","rowsPageNumbers","pagination","scrollable","data","chooseColomns","SecondBtn","FirstBtn","classFirstBtn","contentFirstBtn","firstButtonEvent"],[1,"col-md-4"],[1,"col-md-12"],[1,"mb-10"],["translate","MENU.Speciality",1,"form-label"],[1,"dropdown"],[3,"options","ngModel","filter","optionLabel","placeholder","ngModelChange"],[2,"display","contents"],["translate","SHARED.Create",1,"btn","btn-success",2,"width","100%",3,"click"]],template:function(r,i){1&r&&(d.TgZ(0,"span",0),d._UZ(1,"h2",1),d.qZA(),d.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"app-shared-datatable",6),d.NdJ("firstButtonEvent",function(a){return i.Avaliabilty(a)}),d.qZA()()()(),d.TgZ(7,"div",7)(8,"div",4)(9,"div",5)(10,"div",8)(11,"div",9),d._UZ(12,"label",10),d.TgZ(13,"div",11)(14,"p-multiSelect",12),d.NdJ("ngModelChange",function(a){return i.currentSpecs=a}),d.qZA()()(),d.TgZ(15,"div",13)(16,"button",14),d.NdJ("click",function(){return i.AddClinic()}),d.qZA()()()()()()()),2&r&&(d.xp6(6),d.Q6J("cols",i.Cols)("rowsPageNumbers",10)("pagination",!0)("scrollable",!1)("data",i.Data)("chooseColomns",!0)("SecondBtn",!1)("FirstBtn",!0)("classFirstBtn",i.classFirstBtn)("contentFirstBtn",i.contentFirstBtn),d.xp6(8),d.Akn(d.DdM(17,T)),d.Q6J("options",i.SpecData)("ngModel",i.currentSpecs)("filter",!0)("optionLabel","ar"===i.currentLanguage?"speciality_Name_Ar":"speciality_Name_En")("placeholder","ar"===i.currentLanguage?"\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u062e\u0635\u0635":"Choose Speciality "))},dependencies:[o.G,h.JJ,h.On,p.NU,C.Pi]})}return A})()},5448:(M,E,t)=>{t.d(E,{m:()=>T});var c=t(7860),m=t(649),g=t(7434),e=t(4442),n=t(5879),d=t(4110),D=t(4361),o=t(6223),h=t(3965),p=t(6663),C=t(704);let T=(()=>{class v{service;cdr;glb;Cols;Data;currentLanguage;lang=localStorage.getItem("language");allPeriods=e.bi;currentPeriod={id:0};timePeriod={from:"",to:""};constructor(f,l,r){this.service=f,this.cdr=l,this.glb=r,this.lang=localStorage.getItem("language"),this.Cols=[c.v.fromJS({id:1,sorted:!0,filtered:!0,hidden:!0,field:"id",forAdmin:!0,header:"ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f \u0627\u0644\u062a\u0639\u0631\u064a\u0641\u064a":"Id Code ",type:"text"}),c.v.fromJS({id:2,sorted:!0,filtered:!0,hidden:!1,field:"period",header:"ar"==this.lang?"\u0627\u0644\u0641\u062a\u0631\u0629":"Period ",type:"period"}),c.v.fromJS({id:3,sorted:!0,filtered:!0,hidden:!1,field:"start",header:"ar"==this.lang?"\u0628\u062f\u0627\u064a\u0647 \u0645\u0646":"Start From ",type:"text"}),c.v.fromJS({id:4,sorted:!0,filtered:!0,hidden:!1,field:"end",header:"ar"==this.lang?"\u0646\u0647\u0627\u064a\u0629 \u0625\u0644\u064a":"End At ",type:"text"})]}currentClinic={specialityId:"",hospitalId:"",clinicDescription:""};ngOnInit(){this.searchHospitalTiming(),this.currentLanguage=localStorage.getItem("language")??"ar"}searchHospitalTiming(){let f=(new g.l).GetUserId(),l=(new g.l).GetUserOrgId();this.service.getHospitalTimings(l,f,void 0).subscribe({next:r=>{this.Data=r.data,this.cdr.detectChanges()},error:()=>{}})}AddHospitalTiming(){let f=new m.sdp;f.hospitalId=(new g.l).GetUserOrgId(),f.period=this.allPeriods[this.currentPeriod.id-1].period,f.timeRangeEnd=this.glb.getTimeWithSecondsIfSecondsNotExist(this.timePeriod.to),f.timeRangeStart=this.glb.getTimeWithSecondsIfSecondsNotExist(this.timePeriod.from),this.service.newHospitalTiming(f).subscribe({next:l=>{this.searchHospitalTiming()}})}onChangeTimeFrom(f){this.timePeriod.from=f}static \u0275fac=function(l){return new(l||v)(n.Y36(m.r9S),n.Y36(n.sBO),n.Y36(d.U))};static \u0275cmp=n.Xpm({type:v,selectors:[["app-hospital-timing-list"]],decls:27,vars:18,consts:[[1,"m-3"],["translate","org.HospitalTimming",2,"font-weight","bold","color","white"],[1,"row"],["id","kt_timeline_widget_2_card",1,"card"],[1,"card-body"],[1,"col-md-3"],["translate","org.period",1,"form-label"],[1,"dropdown"],["styleClass","fc-primng",3,"options","ngModel","optionLabel","showClear","placeholder","ngModelChange"],["translate","SHARED.from",1,"form-label"],[3,"timeTypeInput","timeTypeOutput","initStringValue","initStringValueChange"],["translate","SHARED.to",1,"form-label"],[1,"col-md-3","mt-8"],[2,"display","contents"],["translate","SHARED.Create",1,"btn","btn-success",2,"width","100%",3,"click"],[1,"row","pt-5"],[3,"cols","rowsPageNumbers","pagination","scrollable","data","chooseColomns","SecondBtn"]],template:function(l,r){1&l&&(n.TgZ(0,"span",0),n._UZ(1,"h2",1),n.qZA(),n.TgZ(2,"div",2)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",2)(7,"div",5),n._UZ(8,"label",6),n.TgZ(9,"div",7)(10,"p-dropdown",8),n.NdJ("ngModelChange",function(s){return r.currentPeriod=s}),n.qZA()()(),n.TgZ(11,"div",5),n._UZ(12,"label",9),n.TgZ(13,"div")(14,"app-time-picker",10),n.NdJ("initStringValueChange",function(s){return r.timePeriod.from=s}),n.qZA()()(),n.TgZ(15,"div",5),n._UZ(16,"label",11),n.TgZ(17,"div")(18,"app-time-picker",10),n.NdJ("initStringValueChange",function(s){return r.timePeriod.to=s}),n.qZA()()(),n.TgZ(19,"div",12)(20,"div",13)(21,"button",14),n.NdJ("click",function(){return r.AddHospitalTiming()}),n.qZA()()()()()()(),n._UZ(22,"br"),n.TgZ(23,"div",15)(24,"div",3)(25,"div",4),n._UZ(26,"app-shared-datatable",16),n.qZA()()()()),2&l&&(n.xp6(10),n.Q6J("options",r.allPeriods)("ngModel",r.currentPeriod)("optionLabel","ar"===r.currentLanguage?"nameAr":"nameEn")("showClear",!1)("placeholder","ar"===r.currentLanguage?"\u0627\u062e\u062a\u0631 \u0641\u062a\u0631\u0629":"Choose a Peroid"),n.xp6(4),n.Q6J("timeTypeInput","Time")("timeTypeOutput","Time")("initStringValue",r.timePeriod.from),n.xp6(4),n.Q6J("timeTypeInput","Time")("timeTypeOutput","Time")("initStringValue",r.timePeriod.to),n.xp6(8),n.Q6J("cols",r.Cols)("rowsPageNumbers",10)("pagination",!0)("scrollable",!1)("data",r.Data)("chooseColomns",!0)("SecondBtn",!1))},dependencies:[D.G,o.JJ,o.On,h.Lt,p.Pi,C.e]})}return v})()}}]);