"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[919],{5919:(w,g,o)=>{o.r(g),o.d(g,{SponsorsModule:()=>N});var m=o(6814),d=o(649),c=o(1356),h=o(7434),T=o(8180),A=o(4442),f=o(7860),e=o(5879),i=o(6223),D=o(4361),v=o(2160),C=o(3506),S=o(6663);function E(l,F){if(1&l){const n=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.Add())}),e.qZA()}}function M(l,F){if(1&l){const n=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.Edit())}),e.qZA()}}let Z=(()=>{class l{service;cdr;dialogService;Cols;Data;UserData;currentLanguage;lang=localStorage.getItem("language");contentFirstBtn;classFirstBtn="success text-white";mode="add";selectedProfile=new d.NM;userTypes=A.zI;currentUserType;profileType;model=new d.W$;constructor(n,s,t){this.service=n,this.cdr=s,this.dialogService=t,this.lang=localStorage.getItem("language"),this.Cols=[f.v.fromJS({id:1,sorted:!0,filtered:!0,hidden:!1,field:"sponsorId",header:"ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f \u0627\u0644\u062a\u0639\u0631\u064a\u0641\u064a":"Id Code ",type:"text"}),f.v.fromJS({id:2,sorted:!0,filtered:!0,hidden:!1,field:"name",header:"ar"==this.lang?"\u0627\u0644\u0627\u0633\u0645":"Name ",type:"text"})]}ngOnChanges(n){this.cdr.detectChanges()}SpecialityData;getAllUsers(){let s,n=(new h.l).GetUserId();s=d.$B._1,this.service.getListOfOrganizations(s,void 0,void 0,void 0,void 0,n).pipe((0,T.q)(1)).subscribe({next:p=>{this.UserData=p.data.items,this.cdr.detectChanges()},error:()=>{}})}ngOnInit(){this.search(),this.getAllUsers(),this.currentLanguage=localStorage.getItem("language")??"ar"}search(){let s,n=(new h.l).GetUserId();s=d.pq._1,this.service.searchSponsors(s,void 0,void 0,void 0,void 0,void 0,n).subscribe({next:p=>{this.Data=p.data.items,this.cdr.detectChanges()},error:()=>{}})}Add(){this.service.newSponsor(this.model).subscribe({next:n=>{n.isSuccess&&this.search()}})}Edit(){let n=new d.lu;n.costAmount=this.model.cost,n.discount=this.model.discount,n.startDate=this.model.startDate,n.profileId=this.model.profileId,n.sponsorId=this.selectedSponserID,this.service.editSponsor(n).subscribe(s=>{console.log(s)})}selectedSponserID;EditRow(n){this.model=n,this.mode="edit",this.selectedSponserID=n.id}ShowTableSchedule(n){}Clear(){this.mode="add"}static \u0275fac=function(s){return new(s||l)(e.Y36(d.r9),e.Y36(e.sBO),e.Y36(c.xA))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-sponsors-list"]],features:[e._Bn([c.xA]),e.TTD],decls:28,vars:23,consts:[["id","kt_timeline_widget_2_card",1,"card","h-xl-100"],[1,"card-header","position-relative","py-0","border-bottom-2"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[3,"cols","rowsPageNumbers","pagination","scrollable","data","chooseColomns","SecondBtn","contentSecondBtn","FirstBtn","contentFirstBtn","classFirstBtn","secondButtonEvent","firstButtonEvent"],[1,"col-md-4"],[1,"col-md-12"],[1,"dropdown"],["styleClass","fc-primng",3,"options","ngModel","optionLabel","optionValue","showClear","placeholder","ngModelChange"],[1,"mb-10"],["translate","SHARED.from",1,"form-label"],["styleClass","fc-primng",3,"ngModel","ngModelChange"],["translate","SHARED.to",1,"form-label"],["translate","SHARED.discound",1,"form-label"],["type","text","placeholder","","autocomplete","",1,"form-control",3,"ngModel","ngModelChange"],["translate","SHARED.cost",1,"form-label"],[2,"display","contents"],["style","width: 60%;","class","btn btn-success mx-3","translate","SHARED.Create",3,"click",4,"ngIf"],["style","width: 60%;","class","btn btn-success mx-3","translate","SHARED.Edit",3,"click",4,"ngIf"],["translate","SHARED.Cancel",1,"btn","btn-success","mx-3",2,"width","25%",3,"click"],["translate","SHARED.Create",1,"btn","btn-success","mx-3",2,"width","60%",3,"click"],["translate","SHARED.Edit",1,"btn","btn-success","mx-3",2,"width","60%",3,"click"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"app-shared-datatable",5),e.NdJ("secondButtonEvent",function(a){return t.EditRow(a)})("firstButtonEvent",function(a){return t.ShowTableSchedule(a)}),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"p-dropdown",9),e.NdJ("ngModelChange",function(a){return t.model.profileId=a}),e.qZA()(),e.TgZ(10,"div",10),e._UZ(11,"label",11),e.TgZ(12,"div")(13,"p-calendar",12),e.NdJ("ngModelChange",function(a){return t.model.startDate=a}),e.qZA()()(),e.TgZ(14,"div",10),e._UZ(15,"label",13),e.TgZ(16,"div")(17,"p-calendar",12),e.NdJ("ngModelChange",function(a){return t.model.endDate=a}),e.qZA()()(),e.TgZ(18,"div",10),e._UZ(19,"label",14),e.TgZ(20,"input",15),e.NdJ("ngModelChange",function(a){return t.model.discount=a}),e.qZA()(),e.TgZ(21,"div",10),e._UZ(22,"label",16),e.TgZ(23,"input",15),e.NdJ("ngModelChange",function(a){return t.model.cost=a}),e.qZA()(),e.TgZ(24,"div",17),e.YNc(25,E,1,0,"button",18),e.YNc(26,M,1,0,"button",19),e.TgZ(27,"button",20),e.NdJ("click",function(){return t.Clear()}),e.qZA()()()()()()()()),2&s&&(e.xp6(5),e.Q6J("cols",t.Cols)("rowsPageNumbers",25)("pagination",!0)("scrollable",!1)("data",t.Data)("chooseColomns",!0)("SecondBtn",!0)("contentSecondBtn","ar"==t.currentLanguage?"\u062a\u0639\u062f\u064a\u0644":"Edit")("FirstBtn",!1)("contentFirstBtn","ar"==t.currentLanguage?"\u062c\u062f\u0648\u0644 \u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f":"Table Schedule")("classFirstBtn"," btn-success"),e.xp6(4),e.Q6J("options",t.UserData)("ngModel",t.model.profileId)("optionLabel","organizationName")("optionValue","profileId")("showClear",!1)("placeholder","ar"==t.currentLanguage?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"Choose User"),e.xp6(4),e.Q6J("ngModel",t.model.startDate),e.xp6(4),e.Q6J("ngModel",t.model.endDate),e.xp6(3),e.Q6J("ngModel",t.model.discount),e.xp6(3),e.Q6J("ngModel",t.model.cost),e.xp6(2),e.Q6J("ngIf","add"==t.mode),e.xp6(1),e.Q6J("ngIf","edit"==t.mode))},dependencies:[i.Fj,i.JJ,i.On,m.O5,D.G,v.Lt,C.f,S.Pi]})}return l})();var I=o(3415),B=o(7304),L=o(4055),J=o(9378),y=o(3660);let N=(()=>{class l{static \u0275fac=function(s){return new(s||l)};static \u0275mod=e.oAB({type:l});static \u0275inj=e.cJS({imports:[i.u5,m.ez,B.Bz.forChild([{path:"Sponsores",component:Z}]),I.m,v.kW,J.EV,L.q4,C._8,S.aw,y.q,c.DL]})}return l})()}}]);