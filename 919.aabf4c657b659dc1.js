"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[919],{5919:(O,u,o)=>{o.r(u),o.d(u,{SponsorsModule:()=>F});var m=o(6814),i=o(649),c=o(5118),g=o(7434),T=o(8180),Z=o(4442),h=o(7860),A=o(3519),B=o.n(A),e=o(5879),I=o(8472),d=o(6223),y=o(4361),f=o(3965),C=o(1532),S=o(6663),v=o(8057);function M(r,_){if(1&r){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.Add())}),e.qZA()}}function w(r,_){if(1&r){const n=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.Edit())}),e.qZA()}}let E=(()=>{class r{service;cdr;dialogService;cts;Cols;Data;UserData;currentLanguage;lang=localStorage.getItem("language");contentFirstBtn;contentSecondBtn;classFirstBtn="success text-white";mode="add";selectedProfile=new i.NME;userTypes=Z.zI;currentUserType;profileType;model=new i.W$X;constructor(n,a,t,l){this.service=n,this.cdr=a,this.dialogService=t,this.cts=l,this.lang=localStorage.getItem("language"),this.Cols=[h.v.fromJS({id:1,sorted:!0,filtered:!0,hidden:!0,field:"sponsorId",forAdmin:!0,header:"ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f \u0627\u0644\u062a\u0639\u0631\u064a\u0641\u064a":"Id Code ",type:"text"}),h.v.fromJS({id:2,sorted:!0,filtered:!0,hidden:!1,field:"name",header:"ar"==this.lang?"\u0627\u0644\u0627\u0633\u0645":"Name ",type:"text"})],this.contentFirstBtn="ar"===this.lang?"<i class='fas fa-trash-alt'></i> \u062d\u0630\u0641":"<i class='fas fa-trash-alt'></i> Delete",this.contentSecondBtn="ar"===this.lang?"<i class='fas fa-edit'></i> \u062a\u0639\u062f\u064a\u0644":"<i class='fas fa-edit'></i> Edit "}SpecialityData;IsCompletedOption=!1;getAllUsers(){let a,l,n=(new g.l).GetUserId();a=i.$BI._1,l=!1,this.service.getListOfOrganizations(void 0,void 0,void 0,void 0,!1,void 0,void 0,n,void 0).pipe((0,T.q)(1)).subscribe({next:p=>{this.UserData=p.data.items,this.cdr.detectChanges()},error:()=>{}})}ngOnInit(){this.search(),this.getAllUsers(),this.currentLanguage=localStorage.getItem("language")??"ar"}search(){(new Date).setHours(0,0,0,0);let t,a=(new g.l).GetUserId();t=i.pqZ._1,this.service.searchSponsors(t,void 0,void 0,this.IsCompletedOption,!1,void 0,void 0,a,void 0).subscribe({next:H=>{this.Data=H.data?.items,this.cdr.detectChanges()},error:()=>{}})}Add(){this.service.newSponsor(this.model).subscribe({next:n=>{n.isSuccess&&this.search()}})}Edit(){let n=new i.luk;n.costAmount=this.model.cost,n.discount=this.model.discount,n.startDate=this.model.startDate,n.endDate=this.model.endDate,n.profileId=this.model.profileId,n.sponsorId=this.selectedSponserID,console.log(this.selectedSponserID),this.service.editSponsor(n).subscribe(a=>{console.log(a)})}selectedSponserID;EditRow(n){console.log(n),this.model=n,this.mode="edit",this.selectedSponserID=n.sponsorId}Clear(){this.mode="add"}DeleteRow(n){B().fire({title:"ar"==this.lang?"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u061f":"Are You Sure ? ",text:"ar"==this.lang?" \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u0630\u0641 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0631\u062c\u0648\u0639 \u0641\u064a\u0647\u0627 , \u0627\u0630\u0627 \u0643\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0627\u0636\u063a\u0637 \u0639\u0644\u064a \u062d\u0630\u0641 \u0627\u0648 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0631\u062c\u0648\u0639   ":"this The deletion process is irreversible. If you are sure, click Delete or you can Cancel it ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"ar"==this.lang?"\u062d\u0630\u0641":"Delete",cancelButtonText:"ar"==this.lang?"\u0625\u0644\u063a\u0627\u0621":"Cancel"}).then(a=>{if(a.isConfirmed){let t=new i.YUG;t.sponsorId=n.sponsorId,this.service.deleteSponsor(t).subscribe({next:l=>{this.search(),this.cts.Show("info","ar"==this.currentLanguage?"\u062d\u0630\u0641":"Delete","ar"==this.currentLanguage?"\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0640\u0645\u0645\u0648\u0644 \u0628\u0646\u062c\u0627\u062d":"Sponsor Deleted Successfully")}})}})}setCurrentDateAndtimeStartDate(){this.model.startDate=new Date}setCurrentDateAndtimeEndtDate(){this.model.endDate=new Date}static \u0275fac=function(a){return new(a||r)(e.Y36(i.r9S),e.Y36(e.sBO),e.Y36(c.xA),e.Y36(I.m))};static \u0275cmp=e.Xpm({type:r,selectors:[["app-sponsors-list"]],features:[e._Bn([c.xA])],decls:46,vars:31,consts:[[1,"m-3"],["translate","MENU.Sponsores",2,"font-weight","bold","color","white"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-3"],["inputId","isCompletedCheckbox",3,"ngModel","binary","ngModelChange","onChange"],["for","isCompletedCheckbox",1,"form-label","ms-2"],[1,"col-md-8"],["id","kt_timeline_widget_2_card",1,"card"],[3,"cols","rowsPageNumbers","pagination","scrollable","data","chooseColomns","SecondBtn","contentSecondBtn","classFirstBtn","classSecondBtn","FirstBtn","contentFirstBtn","secondButtonEvent","firstButtonEvent"],[1,"col-md-4"],[1,"col-md-12"],[1,"mb-10"],[1,"dropdown"],["translate","Sponsor.ChooseProfile",1,"form-label"],["styleClass","fc-primng",3,"options","ngModel","filter","filterBy","disabled","optionLabel","optionValue","showClear","placeholder","ngModelChange"],["translate","SHARED.from",1,"form-label"],[2,"display","flex","justify-content","space-between","align-items","baseline","flex-wrap","nowrap"],[2,"width","100%"],["styleClass","fc-primng","dateFormat","dd/m/yy",3,"ngModel","showTime","ngModelChange"],[1,"btn","btn-icon","btn-light-success","mx-3","mt-6",3,"click"],[1,"fa-solid","fa-stopwatch","fs-4","me-2"],["translate","SHARED.to",1,"form-label"],["translate","Sponsor.Choose_the_time_first_then_choose_the_day",1,"grey"],["translate","Sponsor.Discount",1,"form-label"],["type","text","placeholder","","autocomplete","",1,"form-control",3,"ngModel","ngModelChange"],["translate","Sponsor.Cost",1,"form-label"],[2,"display","contents"],["style","width: 60%;","class","btn btn-success mx-3","translate","SHARED.Create",3,"click",4,"ngIf"],["style","width: 60%;","class","btn btn-success mx-3","translate","SHARED.Edit",3,"click",4,"ngIf"],["translate","SHARED.Cancel",1,"btn","btn-bordered","btn-outline-success","mx-3",2,"width","25%",3,"click"],["translate","SHARED.Create",1,"btn","btn-success","mx-3",2,"width","60%",3,"click"],["translate","SHARED.Edit",1,"btn","btn-success","mx-3",2,"width","60%",3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"span",0),e._UZ(1,"h2",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p-checkbox",6),e.NdJ("ngModelChange",function(s){return t.IsCompletedOption=s})("onChange",function(){return t.search()}),e.qZA(),e.TgZ(7,"label",7),e._uU(8," \u0627\u0634\u062a\u0631\u0627\u0643 \u0645\u0646\u062a\u0647\u064a "),e.qZA()()()()(),e._UZ(9,"br"),e.TgZ(10,"div",4)(11,"div",8)(12,"div",9)(13,"div",3)(14,"app-shared-datatable",10),e.NdJ("secondButtonEvent",function(s){return t.EditRow(s)})("firstButtonEvent",function(s){return t.DeleteRow(s)}),e.qZA()()()(),e.TgZ(15,"div",11)(16,"div",9)(17,"div",3)(18,"div",12)(19,"div",13)(20,"div",14),e._UZ(21,"label",15),e.TgZ(22,"p-dropdown",16),e.NdJ("ngModelChange",function(s){return t.model.profileId=s}),e.qZA()()(),e.TgZ(23,"div",13),e._UZ(24,"label",17),e.TgZ(25,"div",18)(26,"div",19)(27,"p-calendar",20),e.NdJ("ngModelChange",function(s){return t.model.startDate=s}),e.qZA()(),e.TgZ(28,"a",21),e.NdJ("click",function(){return t.setCurrentDateAndtimeStartDate()}),e._UZ(29,"i",22),e.qZA()()(),e.TgZ(30,"div",13),e._UZ(31,"label",23),e.TgZ(32,"div",18)(33,"div",19)(34,"p-calendar",20),e.NdJ("ngModelChange",function(s){return t.model.endDate=s}),e.qZA()()(),e._UZ(35,"span",24),e.qZA(),e.TgZ(36,"div",13),e._UZ(37,"label",25),e.TgZ(38,"input",26),e.NdJ("ngModelChange",function(s){return t.model.discount=s}),e.qZA()(),e.TgZ(39,"div",13),e._UZ(40,"label",27),e.TgZ(41,"input",26),e.NdJ("ngModelChange",function(s){return t.model.cost=s}),e.qZA()(),e.TgZ(42,"div",28),e.YNc(43,M,1,0,"button",29),e.YNc(44,w,1,0,"button",30),e.TgZ(45,"button",31),e.NdJ("click",function(){return t.Clear()}),e.qZA()()()()()()()),2&a&&(e.xp6(6),e.Q6J("ngModel",t.IsCompletedOption)("binary",!0),e.xp6(8),e.Q6J("cols",t.Cols)("rowsPageNumbers",10)("pagination",!0)("scrollable",!1)("data",t.Data)("chooseColomns",!0)("SecondBtn",!0)("contentSecondBtn",t.contentSecondBtn)("classFirstBtn","light-danger")("classSecondBtn","light-warning")("FirstBtn",!0)("contentFirstBtn",t.contentFirstBtn),e.xp6(8),e.Q6J("options",t.UserData)("ngModel",t.model.profileId)("filter",!0)("filterBy","organizationName")("disabled","edit"===t.mode)("optionLabel","organizationName")("optionValue","profileId")("showClear",!1)("placeholder","ar"===t.currentLanguage?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0628\u0631\u0648\u0641\u0627\u064a\u0644":"Choose Profile"),e.xp6(5),e.Q6J("ngModel",t.model.startDate)("showTime",!0),e.xp6(7),e.Q6J("ngModel",t.model.endDate)("showTime",!0),e.xp6(4),e.Q6J("ngModel",t.model.discount),e.xp6(3),e.Q6J("ngModel",t.model.cost),e.xp6(2),e.Q6J("ngIf","add"===t.mode),e.xp6(1),e.Q6J("ngIf","edit"===t.mode))},dependencies:[d.Fj,d.JJ,d.On,m.O5,y.G,f.Lt,C.f,S.Pi,v.XZ]})}return r})();var L=o(8524),J=o(7304),N=o(4055),U=o(9378),x=o(3660);let F=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[d.u5,m.ez,J.Bz.forChild([{path:"Sponsores",component:E}]),L.m,f.kW,U.EV,N.q4,C._8,S.aw,x.q,c.DL,v.nD]})}return r})()}}]);