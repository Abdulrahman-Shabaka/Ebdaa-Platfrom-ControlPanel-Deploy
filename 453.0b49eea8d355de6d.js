"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[453],{3453:(q,f,o)=>{o.r(f),o.d(f,{ManageStatusModule:()=>G});var g=o(6814),p=o(7304),T=o(3415),c=o(6223),M=o(6663),Z=o(3660),A=o(2160),F=o(1356),J=o(4055),U=o(9378),D=o(3506),l=o(649),t=o(5879),h=o(8472),v=o(8039),S=o(6128),x=o(158);const L=["fileInput"];function N(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"p-avatar",21),t.NdJ("onImageError",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.onImageError(a))}),t.qZA()(),t.TgZ(3,"div",22)(4,"div",23),t._uU(5),t.qZA(),t.TgZ(6,"a",24),t._uU(7),t.qZA()()()}if(2&i){const e=u.ngIf,n=t.oxw();t.xp6(2),t.Q6J("image",n.imageUrl),t.xp6(3),t.hij(" ",e.fullName," "),t.xp6(2),t.hij(" ",e.email," ")}}function E(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"Label"),t._uU(2," \u0627\u0644\u062e\u0644\u0641\u064a\u0629 "),t.qZA(),t.TgZ(3,"input",25),t.NdJ("ngModelChange",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.colorForStatus=a)}),t.qZA(),t._UZ(4,"hr"),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.colorForStatus)}}const Q=function(i){return{"background-color":i}};function B(i,u){if(1&i&&(t.TgZ(0,"div",26)(1,"span",27),t._uU(2),t.qZA()()),2&i){const e=t.oxw();t.Q6J("ngStyle",t.VKq(2,Q,e.colorForStatus)),t.xp6(2),t.Oqu(e.textForStatus)}}function O(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"p-image",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.triggerFileInput())}),t.qZA()}2&i&&t.Q6J("preview",!1)}function j(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"p-image",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.triggerFileInput())}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("src",e.ImageURL)("preview",!1)}}function Y(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30),t.YNc(3,O,1,1,"p-image",31),t.qZA(),t.TgZ(4,"div",32),t.YNc(5,j,1,2,"p-image",33),t.qZA(),t.TgZ(6,"input",34,35),t.NdJ("change",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.onFileSelected(a))}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.ImageURL),t.xp6(2),t.Q6J("ngIf",e.ImageURL)}}let z=(()=>{class i{cdr;service;cts;lang=localStorage.getItem("language");constructor(e,n,a){this.cdr=e,this.service=n,this.cts=a}stateOptions=[{labelAr:"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0645\u0639 \u0646\u0635",labelEn:"Upload Image With Text",value:"Image"},{labelAr:"\u0631\u0641\u0639 \u0646\u0635 \u0641\u0642\u0637",labelEn:"Upload Text Only ",value:"Text"}];value="Image";user$;imageUrl="";ChangeLanguage(e){console.log(e)}ngOnInit(){let e=localStorage.getItem("user");const n=JSON.parse(e);this.imageUrl=n.profileImageUrl,this.user$=new l.QwO(n)}defaultImage="https://mutabbib-test.start-it-ly.com/assets/logo/png%202.png";onImageError(e){e.target.src=this.defaultImage}defaultImage2="../../../../../assets/onImageError2.png";onImageError2(e){e.target.src=this.defaultImage2}textForStatus="\u0627\u0643\u062a\u0628 \u0646\u0635 \u0627\u0644\u062d\u0627\u0644\u0629 ....";colorForStatus="#3897f0";ImageURL="";fileInput;triggerFileInput(){this.fileInput.nativeElement.click(),this.cdr.detectChanges()}selectedFile=null;base64String="";statusFile;onFileSelected(e){const n=e.target;if(n.files&&n.files.length>0){this.selectedFile=n.files[0],this.statusFile={data:this.selectedFile,fileName:"Sample"};const a=new FileReader;a.onload=this.handleReaderLoaded.bind(this),a.readAsDataURL(this.selectedFile)}}handleReaderLoaded(e){this.base64String=e.target?.result,this.ImageURL=String(this.base64String),this.cdr.detectChanges()}AddStatus(){let e=localStorage.getItem("org");const n=JSON.parse(e);let s,r,d,I,_,w,C,y,b;s=new l.u47(n).profileId,d=this.textForStatus,r=1,I=1,_=0,w="",C="",y=1,b=1,this.service.newStatus(s,1,d,this.statusFile,1,0,"","",1,1).subscribe({next:H=>{H.isSuccess&&(this.cts.Show("success","ar"==this.lang?"\u0639\u0645\u0644\u064a\u0629 \u0646\u0627\u062c\u062d\u0629":"Success Proccee","ar"==this.lang?"\u062a\u0645\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d":"Added Successfully"),this.textForStatus="",this.ImageURL="")},error:()=>{}})}static \u0275fac=function(n){return new(n||i)(t.Y36(t.sBO),t.Y36(l.r9S),t.Y36(h.m))};static \u0275cmp=t.Xpm({type:i,selectors:[["app-ManageStatus"]],viewQuery:function(n,a){if(1&n&&t.Gf(L,5),2&n){let s;t.iGM(s=t.CRH())&&(a.fileInput=s.first)}},decls:34,vars:8,consts:[[2,"display","flex","justify-content","space-between"],[1,"m-3"],[2,"font-weight","bold","color","white"],[1,"my-3"],["routerLink","/ManageStatus/List",1,"btn","btn-light"],["id","kt_timeline_widget_2_card",1,"card"],[1,"card-body"],[2,"text-align","center"],["optionValue","value",2,"direction","ltr",3,"options","ngModel","optionLabel","ngModelChange","onChange"],[1,"row"],[1,"col-md-4"],["class","menu-content d-flex align-items-center ",4,"ngIf"],["placeholder","\u0627\u0628\u062f\u0623 \u0627\u0644\u0643\u062a\u0640\u0627\u0628\u0629",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"col-md-8"],[2,"background-color","black","width","100%","height","70vh","display","flex","justify-content","center","align-items","center","border-radius","17px"],["style"," width: 25%; height: 60vh; border-radius: 17px; display: flex; justify-content: center; align-items: center; overflow: hidden; text-align: center; word-wrap: break-word;",3,"ngStyle",4,"ngIf"],["style","border:1.2px solid white ;background-color: gray ;width: 25%; height: 60vh; border-radius: 17px; display: flex; justify-content: center; align-items: center; overflow: hidden; text-align: center; word-wrap: break-word;",4,"ngIf"],[1,"menu-content","d-flex","align-items-center"],[1,"symbol","symbol-50px","me-5","mt-3",2,"scale","1.8"],["shape","circle",3,"image","onImageError"],[1,"d-flex","flex-column"],[1,"fw-bolder","d-flex","align-items-center","fs-5"],[1,"fw-bold","text-muted","text-hover-primary","fs-7","cursor-pointer"],["type","color",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","25%","height","60vh","border-radius","17px","display","flex","justify-content","center","align-items","center","overflow","hidden","text-align","center","word-wrap","break-word",3,"ngStyle"],[1,"text-white",2,"max-width","100%","overflow-wrap","break-word"],[2,"border","1.2px solid white","background-color","gray","width","25%","height","60vh","border-radius","17px","display","flex","justify-content","center","align-items","center","overflow","hidden","text-align","center","word-wrap","break-word"],[1,"custom-file-input",2,"display","flex","justify-content","space-evenly","align-content","center","align-items","flex-end"],[2,"cursor","pointer"],["src","../../../assets/uploadStatus.png","alt","Image","width","80",3,"preview","click",4,"ngIf"],[1,"custom-Preview-Image"],["alt","Image",3,"src","preview","click",4,"ngIf"],["type","file",1,"form-control",3,"change"],["fileInput",""],["src","../../../assets/uploadStatus.png","alt","Image","width","80",3,"preview","click"],["alt","Image",3,"src","preview","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"span",1)(2,"h2",2),t._uU(3," \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062d\u0627\u0644\u0629 "),t.qZA()(),t.TgZ(4,"span",3)(5,"button",4),t._uU(6," \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0627\u0644\u0627\u062a "),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"p-selectButton",8),t.NdJ("ngModelChange",function(r){return a.value=r})("onChange",function(r){return a.ChangeLanguage(r)}),t.qZA()()()(),t._UZ(11,"br"),t.TgZ(12,"div",9)(13,"div",10)(14,"div",5)(15,"div",6)(16,"h1"),t._uU(17," \u0642\u0635\u062a\u0643 "),t.qZA(),t.YNc(18,N,8,3,"div",11),t._UZ(19,"hr"),t.TgZ(20,"textarea",12),t.NdJ("ngModelChange",function(r){return a.textForStatus=r}),t.qZA(),t._UZ(21,"br"),t.YNc(22,E,5,1,"div",13),t.TgZ(23,"div",9)(24,"button",14),t.NdJ("click",function(){return a.AddStatus()}),t._uU(25," \u0627\u0636\u0641 \u0642\u0635\u062a\u0643 "),t.qZA()()()()(),t.TgZ(26,"div",15)(27,"div",5)(28,"div",6)(29,"h1"),t._uU(30," \u0639\u0627\u064a\u0646 \u0627\u0644\u0645\u062d\u062a\u0648\u064a \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u0645\u0634\u0627\u0631\u0643\u062a\u0647 \u0642\u0628\u0644 \u0627\u0644\u0646\u0634\u0631 : "),t.qZA(),t.TgZ(31,"div",16),t.YNc(32,B,3,4,"div",17),t.YNc(33,Y,8,2,"div",18),t.qZA()()()()()),2&n&&(t.xp6(10),t.Q6J("options",a.stateOptions)("ngModel",a.value)("optionLabel","ar"==a.lang?"labelAr":"labelEn"),t.xp6(8),t.Q6J("ngIf",a.user$),t.xp6(2),t.Q6J("ngModel",a.textForStatus),t.xp6(2),t.Q6J("ngIf","Text"==a.value),t.xp6(10),t.Q6J("ngIf","Text"==a.value),t.xp6(1),t.Q6J("ngIf","Image"==a.value))},dependencies:[g.O5,g.PC,p.rH,c.Fj,c.JJ,c.On,v.q,S.UN,x.E],styles:[".custom-file-input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}"]})}return i})();var R=o(8676),m=o(7860),k=o(4361);let P=(()=>{class i{service;cdr;cts;Cols;lang=localStorage.getItem("language");Data=[];contentFirstBtn;constructor(e,n,a){this.service=e,this.cdr=n,this.cts=a,this.Cols=[m.v.fromJS({id:1,sorted:!0,filtered:!0,hidden:!0,field:"id",header:"ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f \u0627\u0644\u062a\u0639\u0631\u064a\u0641\u064a":"Id Code ",type:"text"}),m.v.fromJS({id:2,sorted:!0,filtered:!0,hidden:!1,field:"statusUrl",header:"ar"==this.lang?"\u0627\u0644\u0635\u0648\u0631\u0629":"Image ",type:"image"}),m.v.fromJS({id:3,sorted:!0,filtered:!0,hidden:!1,field:"note",header:"ar"==this.lang?"\u0627\u0644\u0646\u0635":"Text ",type:"text"})],this.contentFirstBtn="ar"===this.lang?"<i class='fas fa-trash-alt'></i> \u062d\u0630\u0641":"<i class='fas fa-trash-alt'></i> Delete"}ngOnInit(){this.loadData()}loadData(){let e=localStorage.getItem("org");const n=JSON.parse(e);var a=new l.u47(n);this.service.getStatus(a.profileId,void 0,void 0).subscribe({next:s=>{this.Data=s.data,this.cdr.detectChanges()}})}Delete(e){let n=localStorage.getItem("org");const a=JSON.parse(n);var s=new l.u47(a);let r=new l._Q2;r.statusId=e.statusId,r.targetProfileId=s.profileId,this.service.deleteStatus(r).subscribe({next:d=>{d.isSuccess&&(this.loadData(),this.cts.Show("success","ar"==this.lang?"\u0639\u0645\u0644\u064a\u0629 \u0646\u0627\u062c\u062d\u0629":"Success Proccee","ar"==this.lang?"\u062a\u0645\u062a \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d":"Deleted Successfully"))},error:()=>{}})}static \u0275fac=function(n){return new(n||i)(t.Y36(l.r9S),t.Y36(t.sBO),t.Y36(h.m))};static \u0275cmp=t.Xpm({type:i,selectors:[["app-StatusList"]],decls:12,vars:9,consts:[[2,"display","flex","justify-content","space-between"],[1,"m-3"],[2,"font-weight","bold","color","white"],[1,"my-3"],["routerLink","/ManageStatus",1,"btn","btn-light"],[1,"row"],[1,"col-md-12"],["id","kt_timeline_widget_2_card",1,"card"],[1,"card-body"],[3,"cols","rowsPageNumbers","pagination","scrollable","data","chooseColomns","FirstBtn","contentFirstBtn","classFirstBtn","firstButtonEvent"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"span",1)(2,"h2",2),t._uU(3," \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0627\u0644\u0627\u062a "),t.qZA()(),t.TgZ(4,"span",3)(5,"button",4),t._uU(6," \u0627\u0646\u0634\u0627\u0621 \u062d\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629 "),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"app-shared-datatable",9),t.NdJ("firstButtonEvent",function(r){return a.Delete(r)}),t.qZA()()()()()),2&n&&(t.xp6(11),t.Q6J("cols",a.Cols)("rowsPageNumbers",10)("pagination",!0)("scrollable",!1)("data",a.Data)("chooseColomns",!0)("FirstBtn",!0)("contentFirstBtn",a.contentFirstBtn)("classFirstBtn","light-danger"))},dependencies:[p.rH,k.G]})}return i})(),G=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=t.oAB({type:i});static \u0275inj=t.cJS({imports:[g.ez,p.Bz.forChild([{path:"",component:z,data:{animation:"ManageStatus"}},{path:"List",component:P,data:{animation:"StatusList"}}]),T.m,c.u5,A.kW,U.EV,J.q4,D._8,M.aw,Z.q,F.DL,v.F,R.Q,S.Qy,x.$]})}return i})()}}]);